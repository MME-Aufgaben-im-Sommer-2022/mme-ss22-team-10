var $e=Object.defineProperty;var Ne=(r,e,t)=>e in r?$e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var l=(r,e,t)=>(Ne(r,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();const Pe="modulepreload",Ae=function(r){return"/"+r},_e={},O=function(e,t,n){return!t||t.length===0?e():Promise.all(t.map(i=>{if(i=Ae(i),i in _e)return;_e[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":Pe,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())},pe=class{static async loadAll(){const e=Object.assign({"../../components/Calendar/Calendar/Calendar.ts":()=>O(()=>import("./Calendar.1bb51e95.js"),["assets/Calendar.1bb51e95.js","assets/Calendar.682cfa8a.css","assets/CalendarMonth.1eb63abe.js","assets/CalendarMonth.3db4954d.css","assets/CalendarDay.e07a1e1c.js","assets/CalendarDay.1fece4c9.css","assets/EventBus.3fab095c.js"]),"../../components/Calendar/CalendarDay/CalendarDay.ts":()=>O(()=>import("./CalendarDay.e07a1e1c.js"),["assets/CalendarDay.e07a1e1c.js","assets/CalendarDay.1fece4c9.css","assets/EventBus.3fab095c.js"]),"../../components/Calendar/CalendarMonth/CalendarMonth.ts":()=>O(()=>import("./CalendarMonth.1eb63abe.js"),["assets/CalendarMonth.1eb63abe.js","assets/CalendarMonth.3db4954d.css","assets/CalendarDay.e07a1e1c.js","assets/CalendarDay.1fece4c9.css","assets/EventBus.3fab095c.js"]),"../../components/Editor/Editor/Editor.ts":()=>O(()=>import("./Editor.f82f1f66.js"),["assets/Editor.f82f1f66.js","assets/Editor.197cc670.css","assets/EditorBlock.d2ec6a3f.js","assets/EditorBlock.4b3631c4.css","assets/FreeTextInputField.77ae9d76.js","assets/FreeTextInputField.2f642527.css","assets/EventBus.3fab095c.js","assets/CloseAllEditorInputs.40019b73.js","assets/BulletPointInputField.2706dbe9.js","assets/LiveBulletPointItem.7ef31b6a.js","assets/LiveTextInput.33e25eea.js","assets/LiveTextInput.0177f65e.css","assets/CheckListInputField.3124d2af.js","assets/LiveCheckListItem.e42c35a3.js","assets/LiveCheckListItem.cdd79750.css","assets/CalendarDay.e07a1e1c.js","assets/CalendarDay.1fece4c9.css"]),"../../components/Editor/EditorBlock/EditorBlock.ts":()=>O(()=>import("./EditorBlock.d2ec6a3f.js"),["assets/EditorBlock.d2ec6a3f.js","assets/EditorBlock.4b3631c4.css","assets/FreeTextInputField.77ae9d76.js","assets/FreeTextInputField.2f642527.css","assets/EventBus.3fab095c.js","assets/CloseAllEditorInputs.40019b73.js","assets/BulletPointInputField.2706dbe9.js","assets/LiveBulletPointItem.7ef31b6a.js","assets/LiveTextInput.33e25eea.js","assets/LiveTextInput.0177f65e.css","assets/CheckListInputField.3124d2af.js","assets/LiveCheckListItem.e42c35a3.js","assets/LiveCheckListItem.cdd79750.css"]),"../../components/Editor/InputFields/BulletPointInputField/BulletPointInputField.ts":()=>O(()=>import("./BulletPointInputField.2706dbe9.js"),["assets/BulletPointInputField.2706dbe9.js","assets/LiveBulletPointItem.7ef31b6a.js","assets/LiveTextInput.33e25eea.js","assets/LiveTextInput.0177f65e.css","assets/EventBus.3fab095c.js","assets/CloseAllEditorInputs.40019b73.js"]),"../../components/Editor/InputFields/CheckListInputField/CheckListInputField.ts":()=>O(()=>import("./CheckListInputField.3124d2af.js"),["assets/CheckListInputField.3124d2af.js","assets/LiveCheckListItem.e42c35a3.js","assets/LiveCheckListItem.cdd79750.css","assets/LiveTextInput.33e25eea.js","assets/LiveTextInput.0177f65e.css","assets/EventBus.3fab095c.js","assets/CloseAllEditorInputs.40019b73.js"]),"../../components/Editor/InputFields/FreeTextInputField/FreeTextInputField.ts":()=>O(()=>import("./FreeTextInputField.77ae9d76.js"),["assets/FreeTextInputField.77ae9d76.js","assets/FreeTextInputField.2f642527.css","assets/EventBus.3fab095c.js","assets/CloseAllEditorInputs.40019b73.js"]),"../../components/ExampleComponent/ExampleComponent.ts":()=>O(()=>import("./ExampleComponent.5fee95c2.js"),[]),"../../components/Home/Home.ts":()=>O(()=>Promise.resolve().then(()=>pt),void 0),"../../components/Home/HomeBar/HomeBar.ts":()=>O(()=>import("./HomeBar.86f16043.js"),["assets/HomeBar.86f16043.js","assets/HomeBar.2052e80e.css","assets/EventBus.3fab095c.js"]),"../../components/Login/Login.ts":()=>O(()=>Promise.resolve().then(()=>ze),void 0),"../../components/Playground/Playground.ts":()=>O(()=>import("./Playground.fb8de150.js"),["assets/Playground.fb8de150.js","assets/Playground.7c000385.css"]),"../../components/TemplateConfigurator/InputTypeConfigurator/InputTypeConfigurator.ts":()=>O(()=>Promise.resolve().then(()=>ct),void 0),"../../components/TemplateConfigurator/InputTypeConfigurator/InputTypeConfiguratorItem/InputTypeConfiguratorItem.ts":()=>O(()=>Promise.resolve().then(()=>rt),void 0),"../../components/TemplateConfigurator/TemplateConfigurator.ts":()=>O(()=>Promise.resolve().then(()=>lt),void 0),"../../components/TemplateConfigurator/TopicConfigurator/TopicConfigurator.ts":()=>O(()=>Promise.resolve().then(()=>it),void 0),"../../components/TemplateConfigurator/TopicConfigurator/TopicConfiguratorItem/TopicConfiguratorItem.ts":()=>O(()=>Promise.resolve().then(()=>nt),void 0),"../../components/atomics/LiveBulletPointItem/LiveBulletPointItem.ts":()=>O(()=>import("./LiveBulletPointItem.7ef31b6a.js"),["assets/LiveBulletPointItem.7ef31b6a.js","assets/LiveTextInput.33e25eea.js","assets/LiveTextInput.0177f65e.css","assets/EventBus.3fab095c.js","assets/CloseAllEditorInputs.40019b73.js"]),"../../components/atomics/LiveCheckListItem/LiveCheckListItem.ts":()=>O(()=>import("./LiveCheckListItem.e42c35a3.js"),["assets/LiveCheckListItem.e42c35a3.js","assets/LiveCheckListItem.cdd79750.css","assets/LiveTextInput.33e25eea.js","assets/LiveTextInput.0177f65e.css","assets/EventBus.3fab095c.js","assets/CloseAllEditorInputs.40019b73.js"]),"../../components/atomics/LiveTextInput/LiveTextInput.ts":()=>O(()=>import("./LiveTextInput.33e25eea.js"),["assets/LiveTextInput.33e25eea.js","assets/LiveTextInput.0177f65e.css","assets/EventBus.3fab095c.js","assets/CloseAllEditorInputs.40019b73.js"])}),t=Object.keys(e);for(const n of t){const i=await e[n](),o=i.default;if(o&&o.prototype.htmlTagName){const a=new xe(o.prototype.htmlTagName,o);pe.addComponentDefinition(a)}}pe.defineAll()}static addComponentDefinition(e){this.componentDefinitions.push(e)}static defineAll(){this.componentDefinitions.forEach(e=>e.defineSelf())}};let le=pe;l(le,"componentDefinitions",[]);class xe{constructor(e,t){l(this,"name");l(this,"componentConstructor");this.name=e,this.componentConstructor=t}defineSelf(){customElements.define(this.name,this.componentConstructor)}}class de{static async init(){}static addState(e,t){this.states.set(t!=null?t:e.id.toString(),e)}static getStateById(e){return this.states.get(e)}static findState(e,t){for(const n of this.states.values())if(n.value instanceof t&&e(n.value))return n}static hasState(e){return this.states.has(e)}static findStates(e,t){const n=[];for(const i of this.states.values())i.value instanceof t&&e(i.value)&&n.push(i);return n}}l(de,"states",new Map);class Ee{constructor(e,t){l(this,"type");l(this,"data");this.type=e,this.data=t,Object.freeze(this)}}class ke{constructor(){l(this,"listener",{})}addEventListener(e,t){this.listener[e]===void 0&&(this.listener[e]=[]),this.listener[e].push(t)}removeEventListener(e,t){if(this.listener[e]!==void 0){for(let n=0;n<this.listener[e].length;n++)if(this.listener[e][n]===t){this.listener[e].splice(n,1);return}}}notifyAll(e,t){const n=new Ee(e,t);if(this.listener[n.type]!==void 0)for(let i=0;i<this.listener[n.type].length;i++)this.listener[n.type][i](n)}notifyAllExcept(e,t,n){const i=new Ee(e,t);if(this.listener[i.type]!==void 0)for(let o=0;o<this.listener[i.type].length;o++)this.listener[i.type][o]!==n&&this.listener[i.type][o](i)}clear(){this.listener={}}}var Re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ve={exports:{}},Be=function(){var r=[],e=[],t=[],n=null,i=function(a,c){return c.split(".").reduce(function(d,h){return d?d[h]:void 0},a||self)},o=function(a,c,d,h){var p=d||null,_=h||[{target:a,property:""}];a instanceof Array&&(a.hasOwnProperty("__length")?a.__length=a.length:Object.defineProperty(a,"__length",{enumerable:!1,value:a.length,writable:!0}));var $=[],P=function(y,T,S){for(var m="",D=null,w=0;w<_.length;w++)D instanceof Array&&!isNaN(_[w].property)&&(_[w].property=D.indexOf(_[w].target)),m=m+"."+_[w].property,D=_[w].target;return m=m+"."+T,m=m.substring(2),S===!0&&(m="/"+m.replace(/\./g,"/")),m},I=function(y){if(p.paused!==!0){var T=typeof c=="number";if(T||c===!0)setTimeout(function(){if(y===$.length){var D=$.slice(0);$=[];for(var w=0;w<p.observers.length;w++)p.observers[w](D)}},T&&c>0?c:10);else{var S=$.slice(0);$=[];for(var m=0;m<p.observers.length;m++)p.observers[m](S)}}},z={get:function(y,T){if(T==="__getTarget")return y;if(T==="__isProxy")return!0;if(T==="__getParent")return function(U){if(typeof U>"u")var U=1;var V=P(y,"__getParent").split(".");return V.splice(-(U+1),U+1),i(p.parentProxy,V.join("."))};if(T==="__getPath"){var S=P(y,"__getParent");return S.slice(0,-12)}var m=y[T];if(y instanceof Date&&m instanceof Function&&m!==null)return m.bind(y);if(m instanceof Object&&m!==null&&y.hasOwnProperty(T)){if(m.__isProxy===!0&&(m=m.__getTarget),m.__targetPosition>-1&&e[m.__targetPosition]!==null){for(var D=t[m.__targetPosition],w=0,A=D.length;w<A;w++)if(p===D[w].observable)return D[w].proxy}var R=_.slice(0);return R.push({target:m,property:T}),o(m,c,p,R)}else return m},deleteProperty:function(y,T){var S=!0;n===j&&(S=!1,n=null);var m=Object.assign({},y);if($.push({type:"delete",target:y,property:T,newValue:null,previousValue:m[T],currentPath:P(y,T),jsonPointer:P(y,T,!0),proxy:j}),S===!0){p.changesPaused||delete y[T];for(var D=0,w=e.length;D<w&&y!==e[D];D++);for(var A=t[D]||[],R=A.length;R--;)A[R].proxy!==j&&(n=A[R].proxy,delete A[R].proxy[T])}return I($.length),!0},set:function(y,T,S,m){S&&S.__isProxy&&(S=S.__getTarget);var D=!0;n===j&&(D=!1,n=null);var w=y[T];if(w!==S||D===!1||T==="length"&&y instanceof Array&&y.__length!==S){var A=!0,R=typeof w,x="update";if(R==="undefined"&&(x="add"),$.push({type:x,target:y,property:T,newValue:S,previousValue:m[T],currentPath:P(y,T),jsonPointer:P(y,T,!0),proxy:j}),T==="length"&&y instanceof Array&&y.__length!==S&&($[$.length-1].previousValue=y.__length,y.__length=S),D===!0){p.changesPaused||(y[T]=S),A=!1;for(var U=y.__targetPosition,V=t[U].length;V--;)if(p===t[U][V].observable&&e[t[U][V].observable.parentTarget.__targetPosition]!==null){A=!0;break}if(A){for(var s=t[U],u=0,g=s.length;u<g;u++)s[u].proxy!==j&&(n=s[u].proxy,s[u].proxy[T]=S);setTimeout(function(){if(R==="object"&&w!==null){for(var M=Object.keys(y),L=0,E=M.length;L<E;L++)if(y[M[L]]===w)return;var Q=!1;if(function H(q){for(var te=Object.keys(q),B=0,ne=te.length;B<ne;B++){var ie=te[B],K=q[ie];if(K instanceof Object&&K!==null&&H(K),K===w){Q=!0;return}}}(y),Q===!0)return;(function H(q){for(var te=Object.keys(q),B=0,ne=te.length;B<ne;B++){var ie=q[te[B]];ie instanceof Object&&ie!==null&&H(ie)}for(var K=-1,B=0,ne=e.length;B<ne;B++)if(q===e[B]){K=B;break}if(K>-1){for(var ce=t[K],ge=ce.length;ge--;)if(p===ce[ge].observable){ce.splice(ge,1);break}ce.length==0&&(e[K]=null)}})(w)}},1e4)}}A&&I($.length)}return!0}},k=a.__targetPosition;k>-1||Object.defineProperty(a,"__targetPosition",{value:e.length,writable:!1,enumerable:!1,configurable:!1});var j=new Proxy(a,z);p===null&&(p={parentTarget:a,domDelay:c,parentProxy:j,observers:[],paused:!1,path:_,changesPaused:!1},r.push(p));var re={target:a,proxy:j,observable:p};return k>-1?(e[k]===null&&(e[k]=a),t[k].push(re)):(e.push(a),t.push([re])),j};return{create:function(a,c,d){if(a.__isProxy===!0)var a=a.__getTarget;var h=o(a,c);return typeof d=="function"&&this.observe(h,d),function p(_){for(var $=_.__getTarget,P=Object.keys($),I=0,z=P.length;I<z;I++){var k=P[I];$[k]instanceof Object&&$[k]!==null&&p(_[k])}}(h),h},observe:function(a,c){for(var d=r.length;d--;)if(r[d].parentProxy===a){r[d].observers.push(c);break}},pause:function(a){for(var c=r.length,d=!1;c--;)if(r[c].parentProxy===a){r[c].paused=!0,d=!0;break}if(d==!1)throw new Error("ObseravableSlim could not pause observable -- matching proxy not found.")},resume:function(a){for(var c=r.length,d=!1;c--;)if(r[c].parentProxy===a){r[c].paused=!1,d=!0;break}if(d==!1)throw new Error("ObseravableSlim could not resume observable -- matching proxy not found.")},pauseChanges:function(a){for(var c=r.length,d=!1;c--;)if(r[c].parentProxy===a){r[c].changesPaused=!0,d=!0;break}if(d==!1)throw new Error("ObseravableSlim could not pause changes on observable -- matching proxy not found.")},resumeChanges:function(a){for(var c=r.length,d=!1;c--;)if(r[c].parentProxy===a){r[c].changesPaused=!1,d=!0;break}if(d==!1)throw new Error("ObseravableSlim could not resume changes on observable -- matching proxy not found.")},remove:function(a){for(var c=null,d=!1,h=r.length;h--;)if(r[h].parentProxy===a){c=r[h],d=!0;break}for(var p=t.length;p--;)for(var _=t[p].length;_--;)t[p][_].observable===c&&(t[p].splice(_,1),t[p].length===0&&(e[p]=null));d===!0&&r.splice(h,1)}}}();try{ve.exports=Be}catch{}const oe=class extends ke{constructor(t){super();l(this,"val");l(this,"id");l(this,"onValueChange",t=>{t.forEach(n=>{this.notifyAll("change",Object.assign({},n,{triggerStateId:this.id}))})});oe.stateCount++,this.id=oe.stateCount,this.val=typeof t=="object"?ve.exports.create(t,!1,this.onValueChange):t}get value(){return this.val}set value(t){const n=this.val;typeof t!="object"?this.val=t:this.val=ve.exports.create(t,!1,this.onValueChange),this.onValueChange([{type:"update",property:"",currentPath:"",jsonPointer:"",target:this.val,proxy:this.val.__getProxy,previousValue:n,newValue:this.val}])}createSubState(t){const n=t.split("."),i=n.reduce((o,a)=>{const c=o[a];if(c!==void 0)return c;throw new ue(a,this)},this);if(typeof i=="object")return new oe(i.__getTarget);throw new Error("SubStates of properties that are Primitives are not supported yet.")}};let G=oe;l(G,"stateCount",0);const Te=class extends Error{constructor(e,t){super(),this.message=`Key does not exist!
    
    Pro tip: Check the dev docs on how to use the key parameter: ${Te.DOCS_LINK}
    
    Detailed error:
    ${e} could not be found in "value":${JSON.stringify(t.value)}
    `}};let ue=Te;l(ue,"DOCS_LINK","https://github.com/MME-Aufgaben-im-Sommer-2022/mme-ss22-team-10/blob/master/docs/lib.md#state");class ae{constructor(){l(this,"state")}toState(){return this.state||(this.state=new G(this)),this.state}}class je extends ae{constructor(t,n){super();l(this,"name");l(this,"count");this.name=t,this.count=n}}class Ie extends ae{constructor(t,n){super();l(this,"today");l(this,"noteDays");this.today=t,this.noteDays=n}getAsDate(t,n,i){return this.noteDays[t]&&this.noteDays[t][n]&&this.noteDays[t][n].includes(i)?new Date(`${n}/${i}/${t}`):null}}var Z=(r=>(r.FreeText="free-text-input-field",r.Checkbox="checkbox-input-field",r.BulletPoint="bullet-point-input-field",r))(Z||{});class ye extends ae{constructor(t,n){super();l(this,"day");l(this,"blockContents");this.day=t,this.blockContents=n}}class Ce extends ae{constructor(t,n){super();l(this,"username");l(this,"settings");this.username=t,this.settings=n}}const me=(r,e,t=!0)=>{const n=[];for(let i=0;i<r;i++)t&&Math.random()>.5||n.push(`${e+i}`);return n},gt=r=>{const e=r.split("."),t=parseInt(e[0],10),n=parseInt(e[1],10)-1,i=parseInt(e[2],10);return new Date(i,n,t)},N={ENDPOINT:"http://localhost/v1",PROJECT_ID:"62ebd3a59c321c79a842",DATABASE_ID:"62fbae0b1efed7a00e63",COLLECTION_NOTES:"62fe9ae239d888113070",COLLECTION_BLOCK_CONTENTS:"62feb22a645659407490",COLLECTION_SETTINGS:"62fe9a71958d86baf717",TEST_USER_EMAIL:{VITE_LOGGER_IS_ENABLED:"false",VITE_API_ENDPOINT:"http://localhost/v1",VITE_PROJECT_ID:"62ebd3a59c321c79a842",VITE_DATABASE_ID:"62fbae0b1efed7a00e63",VITE_COLLECTION_NOTES:"62fe9ae239d888113070",VITE_COLLECTION_BLOCK_CONTENTS:"62feb22a645659407490",VITE_COLLECTION_SETTINGS:"62fe9a71958d86baf717",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}.VITE_TEST_USER_EMAIL,TEST_USER_PASSWORD:{VITE_LOGGER_IS_ENABLED:"false",VITE_API_ENDPOINT:"http://localhost/v1",VITE_PROJECT_ID:"62ebd3a59c321c79a842",VITE_DATABASE_ID:"62fbae0b1efed7a00e63",VITE_COLLECTION_NOTES:"62fe9ae239d888113070",VITE_COLLECTION_BLOCK_CONTENTS:"62feb22a645659407490",VITE_COLLECTION_SETTINGS:"62fe9a71958d86baf717",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}.VITE_TEST_USER_PASSWORD};var we={exports:{}};(function(r,e){var t=typeof self<"u"?self:Re,n=function(){function o(){this.fetch=!1,this.DOMException=t.DOMException}return o.prototype=t,new o}();(function(o){(function(a){var c={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function d(s){return s&&DataView.prototype.isPrototypeOf(s)}if(c.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=ArrayBuffer.isView||function(s){return s&&h.indexOf(Object.prototype.toString.call(s))>-1};function _(s){if(typeof s!="string"&&(s=String(s)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(s))throw new TypeError("Invalid character in header field name");return s.toLowerCase()}function $(s){return typeof s!="string"&&(s=String(s)),s}function P(s){var u={next:function(){var g=s.shift();return{done:g===void 0,value:g}}};return c.iterable&&(u[Symbol.iterator]=function(){return u}),u}function I(s){this.map={},s instanceof I?s.forEach(function(u,g){this.append(g,u)},this):Array.isArray(s)?s.forEach(function(u){this.append(u[0],u[1])},this):s&&Object.getOwnPropertyNames(s).forEach(function(u){this.append(u,s[u])},this)}I.prototype.append=function(s,u){s=_(s),u=$(u);var g=this.map[s];this.map[s]=g?g+", "+u:u},I.prototype.delete=function(s){delete this.map[_(s)]},I.prototype.get=function(s){return s=_(s),this.has(s)?this.map[s]:null},I.prototype.has=function(s){return this.map.hasOwnProperty(_(s))},I.prototype.set=function(s,u){this.map[_(s)]=$(u)},I.prototype.forEach=function(s,u){for(var g in this.map)this.map.hasOwnProperty(g)&&s.call(u,this.map[g],g,this)},I.prototype.keys=function(){var s=[];return this.forEach(function(u,g){s.push(g)}),P(s)},I.prototype.values=function(){var s=[];return this.forEach(function(u){s.push(u)}),P(s)},I.prototype.entries=function(){var s=[];return this.forEach(function(u,g){s.push([g,u])}),P(s)},c.iterable&&(I.prototype[Symbol.iterator]=I.prototype.entries);function z(s){if(s.bodyUsed)return Promise.reject(new TypeError("Already read"));s.bodyUsed=!0}function k(s){return new Promise(function(u,g){s.onload=function(){u(s.result)},s.onerror=function(){g(s.error)}})}function j(s){var u=new FileReader,g=k(u);return u.readAsArrayBuffer(s),g}function re(s){var u=new FileReader,g=k(u);return u.readAsText(s),g}function y(s){for(var u=new Uint8Array(s),g=new Array(u.length),M=0;M<u.length;M++)g[M]=String.fromCharCode(u[M]);return g.join("")}function T(s){if(s.slice)return s.slice(0);var u=new Uint8Array(s.byteLength);return u.set(new Uint8Array(s)),u.buffer}function S(){return this.bodyUsed=!1,this._initBody=function(s){this._bodyInit=s,s?typeof s=="string"?this._bodyText=s:c.blob&&Blob.prototype.isPrototypeOf(s)?this._bodyBlob=s:c.formData&&FormData.prototype.isPrototypeOf(s)?this._bodyFormData=s:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(s)?this._bodyText=s.toString():c.arrayBuffer&&c.blob&&d(s)?(this._bodyArrayBuffer=T(s.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(s)||p(s))?this._bodyArrayBuffer=T(s):this._bodyText=s=Object.prototype.toString.call(s):this._bodyText="",this.headers.get("content-type")||(typeof s=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(s)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var s=z(this);if(s)return s;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?z(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(j)}),this.text=function(){var s=z(this);if(s)return s;if(this._bodyBlob)return re(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(y(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function D(s){var u=s.toUpperCase();return m.indexOf(u)>-1?u:s}function w(s,u){u=u||{};var g=u.body;if(s instanceof w){if(s.bodyUsed)throw new TypeError("Already read");this.url=s.url,this.credentials=s.credentials,u.headers||(this.headers=new I(s.headers)),this.method=s.method,this.mode=s.mode,this.signal=s.signal,!g&&s._bodyInit!=null&&(g=s._bodyInit,s.bodyUsed=!0)}else this.url=String(s);if(this.credentials=u.credentials||this.credentials||"same-origin",(u.headers||!this.headers)&&(this.headers=new I(u.headers)),this.method=D(u.method||this.method||"GET"),this.mode=u.mode||this.mode||null,this.signal=u.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&g)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(g)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})};function A(s){var u=new FormData;return s.trim().split("&").forEach(function(g){if(g){var M=g.split("="),L=M.shift().replace(/\+/g," "),E=M.join("=").replace(/\+/g," ");u.append(decodeURIComponent(L),decodeURIComponent(E))}}),u}function R(s){var u=new I,g=s.replace(/\r?\n[\t ]+/g," ");return g.split(/\r?\n/).forEach(function(M){var L=M.split(":"),E=L.shift().trim();if(E){var Q=L.join(":").trim();u.append(E,Q)}}),u}S.call(w.prototype);function x(s,u){u||(u={}),this.type="default",this.status=u.status===void 0?200:u.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in u?u.statusText:"OK",this.headers=new I(u.headers),this.url=u.url||"",this._initBody(s)}S.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new I(this.headers),url:this.url})},x.error=function(){var s=new x(null,{status:0,statusText:""});return s.type="error",s};var U=[301,302,303,307,308];x.redirect=function(s,u){if(U.indexOf(u)===-1)throw new RangeError("Invalid status code");return new x(null,{status:u,headers:{location:s}})},a.DOMException=o.DOMException;try{new a.DOMException}catch{a.DOMException=function(u,g){this.message=u,this.name=g;var M=Error(u);this.stack=M.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function V(s,u){return new Promise(function(g,M){var L=new w(s,u);if(L.signal&&L.signal.aborted)return M(new a.DOMException("Aborted","AbortError"));var E=new XMLHttpRequest;function Q(){E.abort()}E.onload=function(){var H={status:E.status,statusText:E.statusText,headers:R(E.getAllResponseHeaders()||"")};H.url="responseURL"in E?E.responseURL:H.headers.get("X-Request-URL");var q="response"in E?E.response:E.responseText;g(new x(q,H))},E.onerror=function(){M(new TypeError("Network request failed"))},E.ontimeout=function(){M(new TypeError("Network request failed"))},E.onabort=function(){M(new a.DOMException("Aborted","AbortError"))},E.open(L.method,L.url,!0),L.credentials==="include"?E.withCredentials=!0:L.credentials==="omit"&&(E.withCredentials=!1),"responseType"in E&&c.blob&&(E.responseType="blob"),L.headers.forEach(function(H,q){E.setRequestHeader(q,H)}),L.signal&&(L.signal.addEventListener("abort",Q),E.onreadystatechange=function(){E.readyState===4&&L.signal.removeEventListener("abort",Q)}),E.send(typeof L._bodyInit>"u"?null:L._bodyInit)})}return V.polyfill=!0,o.fetch||(o.fetch=V,o.Headers=I,o.Request=w,o.Response=x),a.Headers=I,a.Request=w,a.Response=x,a.fetch=V,Object.defineProperty(a,"__esModule",{value:!0}),a})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,r.exports=e})(we,we.exports);function v(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function c(p){try{h(n.next(p))}catch(_){a(_)}}function d(p){try{h(n.throw(p))}catch(_){a(_)}}function h(p){p.done?o(p.value):i(p.value).then(c,d)}h((n=n.apply(r,e||[])).next())})}class se{constructor(e){this.client=e}static flatten(e,t=""){let n={};for(const i in e){let o=e[i],a=t?`${t}[${i}]`:i;Array.isArray(o)?n=Object.assign(n,this.flatten(o,a)):n[a]=o}return n}}se.CHUNK_SIZE=5*1024*1024;class C{}C.equal=(r,e)=>C.addQuery(r,"equal",e);C.notEqual=(r,e)=>C.addQuery(r,"notEqual",e);C.lesser=(r,e)=>C.addQuery(r,"lesser",e);C.lesserEqual=(r,e)=>C.addQuery(r,"lesserEqual",e);C.greater=(r,e)=>C.addQuery(r,"greater",e);C.greaterEqual=(r,e)=>C.addQuery(r,"greaterEqual",e);C.search=(r,e)=>C.addQuery(r,"search",e);C.addQuery=(r,e,t)=>t instanceof Array?`${r}.${e}(${t.map(n=>C.parseValues(n)).join(",")})`:`${r}.${e}(${C.parseValues(t)})`;C.parseValues=r=>typeof r=="string"||r instanceof String?`"${r}"`:`${r}`;class f extends Error{constructor(e,t=0,n="",i=""){super(e),this.name="AppwriteException",this.message=e,this.code=t,this.type=n,this.response=i}}class Ue{constructor(){this.config={endpoint:"https://HOSTNAME/v1",endpointRealtime:"",project:"",jwt:"",locale:""},this.headers={"x-sdk-version":"appwrite:web:9.0.1","X-Appwrite-Response-Format":"0.15.0"},this.realtime={socket:void 0,timeout:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window==null?void 0:window.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createSocket:()=>{var e,t;if(this.realtime.channels.size<1)return;const n=new URLSearchParams;n.set("project",this.config.project),this.realtime.channels.forEach(o=>{n.append("channels[]",o)});const i=this.config.endpointRealtime+"/realtime?"+n.toString();(i!==this.realtime.url||!this.realtime.socket||((e=this.realtime.socket)===null||e===void 0?void 0:e.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((t=this.realtime.socket)===null||t===void 0?void 0:t.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=i,this.realtime.socket=new WebSocket(i),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",o=>{this.realtime.reconnectAttempts=0}),this.realtime.socket.addEventListener("close",o=>{var a,c,d;if(!this.realtime.reconnect||((c=(a=this.realtime)===null||a===void 0?void 0:a.lastMessage)===null||c===void 0?void 0:c.type)==="error"&&((d=this.realtime)===null||d===void 0?void 0:d.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const h=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${h/1e3} seconds.`,o.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},h)}))},onMessage:e=>{var t,n;try{const i=JSON.parse(e.data);switch(this.realtime.lastMessage=i,i.type){case"connected":const o=JSON.parse((t=window.localStorage.getItem("cookieFallback"))!==null&&t!==void 0?t:"{}"),a=o==null?void 0:o[`a_session_${this.config.project}`],c=i.data;a&&!c.user&&((n=this.realtime.socket)===null||n===void 0||n.send(JSON.stringify({type:"authentication",data:{session:a}})));break;case"event":let d=i.data;if(d!=null&&d.channels){if(!d.channels.some(p=>this.realtime.channels.has(p)))return;this.realtime.subscriptions.forEach(p=>{d.channels.some(_=>p.channels.includes(_))&&setTimeout(()=>p.callback(d))})}break;case"error":throw i.data;default:break}}catch(i){console.error(i)}},cleanUp:e=>{this.realtime.channels.forEach(t=>{e.includes(t)&&(Array.from(this.realtime.subscriptions).some(([i,o])=>o.channels.includes(t))||this.realtime.channels.delete(t))})}}}setEndpoint(e){return this.config.endpoint=e,this.config.endpointRealtime=this.config.endpointRealtime||this.config.endpoint.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}subscribe(e,t){let n=typeof e=="string"?[e]:e;n.forEach(o=>this.realtime.channels.add(o));const i=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(i,{channels:n,callback:t}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(i),this.realtime.cleanUp(n),this.realtime.connect()}}call(e,t,n={},i={}){var o,a;return v(this,void 0,void 0,function*(){e=e.toUpperCase(),n=Object.assign({},this.headers,n);let c={method:e,headers:n,credentials:"include"};if(typeof window<"u"&&window.localStorage&&(n["X-Fallback-Cookies"]=(o=window.localStorage.getItem("cookieFallback"))!==null&&o!==void 0?o:""),e==="GET")for(const[d,h]of Object.entries(se.flatten(i)))t.searchParams.append(d,h);else switch(n["content-type"]){case"application/json":c.body=JSON.stringify(i);break;case"multipart/form-data":let d=new FormData;for(const h in i)Array.isArray(i[h])?i[h].forEach(p=>{d.append(h+"[]",p)}):d.append(h,i[h]);c.body=d,delete n["content-type"];break}try{let d=null;const h=yield we.exports.fetch(t.toString(),c);if(!((a=h.headers.get("content-type"))===null||a===void 0)&&a.includes("application/json")?d=yield h.json():d={message:yield h.text()},400<=h.status)throw new f(d==null?void 0:d.message,h.status,d==null?void 0:d.type,d);const p=h.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&p&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",p)),d}catch(d){throw d instanceof f?d:new f(d.message)}})}}class Ve extends se{get(){return v(this,void 0,void 0,function*(){let e="/account",t={};const n=new URL(this.client.config.endpoint+e);return yield this.client.call("get",n,{"content-type":"application/json"},t)})}create(e,t,n,i){return v(this,void 0,void 0,function*(){if(typeof e>"u")throw new f('Missing required parameter: "userId"');if(typeof t>"u")throw new f('Missing required parameter: "email"');if(typeof n>"u")throw new f('Missing required parameter: "password"');let o="/account",a={};typeof e<"u"&&(a.userId=e),typeof t<"u"&&(a.email=t),typeof n<"u"&&(a.password=n),typeof i<"u"&&(a.name=i);const c=new URL(this.client.config.endpoint+o);return yield this.client.call("post",c,{"content-type":"application/json"},a)})}updateEmail(e,t){return v(this,void 0,void 0,function*(){if(typeof e>"u")throw new f('Missing required parameter: "email"');if(typeof t>"u")throw new f('Missing required parameter: "password"');let n="/account/email",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.password=t);const o=new URL(this.client.config.endpoint+n);return yield this.client.call("patch",o,{"content-type":"application/json"},i)})}createJWT(){return v(this,void 0,void 0,function*(){let e="/account/jwt",t={};const n=new URL(this.client.config.endpoint+e);return yield this.client.call("post",n,{"content-type":"application/json"},t)})}getLogs(e,t){return v(this,void 0,void 0,function*(){let n="/account/logs",i={};typeof e<"u"&&(i.limit=e),typeof t<"u"&&(i.offset=t);const o=new URL(this.client.config.endpoint+n);return yield this.client.call("get",o,{"content-type":"application/json"},i)})}updateName(e){return v(this,void 0,void 0,function*(){if(typeof e>"u")throw new f('Missing required parameter: "name"');let t="/account/name",n={};typeof e<"u"&&(n.name=e);const i=new URL(this.client.config.endpoint+t);return yield this.client.call("patch",i,{"content-type":"application/json"},n)})}updatePassword(e,t){return v(this,void 0,void 0,function*(){if(typeof e>"u")throw new f('Missing required parameter: "password"');let n="/account/password",i={};typeof e<"u"&&(i.password=e),typeof t<"u"&&(i.oldPassword=t);const o=new URL(this.client.config.endpoint+n);return yield this.client.call("patch",o,{"content-type":"application/json"},i)})}updatePhone(e,t){return v(this,void 0,void 0,function*(){if(typeof e>"u")throw new f('Missing required parameter: "number"');if(typeof t>"u")throw new f('Missing required parameter: "password"');let n="/account/phone",i={};typeof e<"u"&&(i.number=e),typeof t<"u"&&(i.password=t);const o=new URL(this.client.config.endpoint+n);return yield this.client.call("patch",o,{"content-type":"application/json"},i)})}getPrefs(){return v(this,void 0,void 0,function*(){let e="/account/prefs",t={};const n=new URL(this.client.config.endpoint+e);return yield this.client.call("get",n,{"content-type":"application/json"},t)})}updatePrefs(e){return v(this,void 0,void 0,function*(){if(typeof e>"u")throw new f('Missing required parameter: "prefs"');let t="/account/prefs",n={};typeof e<"u"&&(n.prefs=e);const i=new URL(this.client.config.endpoint+t);return yield this.client.call("patch",i,{"content-type":"application/json"},n)})}createRecovery(e,t){return v(this,void 0,void 0,function*(){if(typeof e>"u")throw new f('Missing required parameter: "email"');if(typeof t>"u")throw new f('Missing required parameter: "url"');let n="/account/recovery",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.url=t);const o=new URL(this.client.config.endpoint+n);return yield this.client.call("post",o,{"content-type":"application/json"},i)})}updateRecovery(e,t,n,i){return v(this,void 0,void 0,function*(){if(typeof e>"u")throw new f('Missing required parameter: "userId"');if(typeof t>"u")throw new f('Missing required parameter: "secret"');if(typeof n>"u")throw new f('Missing required parameter: "password"');if(typeof i>"u")throw new f('Missing required parameter: "passwordAgain"');let o="/account/recovery",a={};typeof e<"u"&&(a.userId=e),typeof t<"u"&&(a.secret=t),typeof n<"u"&&(a.password=n),typeof i<"u"&&(a.passwordAgain=i);const c=new URL(this.client.config.endpoint+o);return yield this.client.call("put",c,{"content-type":"application/json"},a)})}getSessions(){return v(this,void 0,void 0,function*(){let e="/account/sessions",t={};const n=new URL(this.client.config.endpoint+e);return yield this.client.call("get",n,{"content-type":"application/json"},t)})}deleteSessions(){return v(this,void 0,void 0,function*(){let e="/account/sessions",t={};const n=new URL(this.client.config.endpoint+e);return yield this.client.call("delete",n,{"content-type":"application/json"},t)})}createAnonymousSession(){return v(this,void 0,void 0,function*(){let e="/account/sessions/anonymous",t={};const n=new URL(this.client.config.endpoint+e);return yield this.client.call("post",n,{"content-type":"application/json"},t)})}createEmailSession(e,t){return v(this,void 0,void 0,function*(){if(typeof e>"u")throw new f('Missing required parameter: "email"');if(typeof t>"u")throw new f('Missing required parameter: "password"');let n="/account/sessions/email",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.password=t);const o=new URL(this.client.config.endpoint+n);return yield this.client.call("post",o,{"content-type":"application/json"},i)})}createMagicURLSession(e,t,n){return v(this,void 0,void 0,function*(){if(typeof e>"u")throw new f('Missing required parameter: "userId"');if(typeof t>"u")throw new f('Missing required parameter: "email"');let i="/account/sessions/magic-url",o={};typeof e<"u"&&(o.userId=e),typeof t<"u"&&(o.email=t),typeof n<"u"&&(o.url=n);const a=new URL(this.client.config.endpoint+i);return yield this.client.call("post",a,{"content-type":"application/json"},o)})}updateMagicURLSession(e,t){return v(this,void 0,void 0,function*(){if(typeof e>"u")throw new f('Missing required parameter: "userId"');if(typeof t>"u")throw new f('Missing required parameter: "secret"');let n="/account/sessions/magic-url",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const o=new URL(this.client.config.endpoint+n);return yield this.client.call("put",o,{"content-type":"application/json"},i)})}createOAuth2Session(e,t,n,i){if(typeof e>"u")throw new f('Missing required parameter: "provider"');let o="/account/sessions/oauth2/{provider}".replace("{provider}",e),a={};typeof t<"u"&&(a.success=t),typeof n<"u"&&(a.failure=n),typeof i<"u"&&(a.scopes=i);const c=new URL(this.client.config.endpoint+o);a.project=this.client.config.project;for(const[d,h]of Object.entries(se.flatten(a)))c.searchParams.append(d,h);if(typeof window<"u"&&(window==null?void 0:window.location))window.location.href=c.toString();else return c}createPhoneSession(e,t){return v(this,void 0,void 0,function*(){if(typeof e>"u")throw new f('Missing required parameter: "userId"');if(typeof t>"u")throw new f('Missing required parameter: "number"');let n="/account/sessions/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.number=t);const o=new URL(this.client.config.endpoint+n);return yield this.client.call("post",o,{"content-type":"application/json"},i)})}updatePhoneSession(e,t){return v(this,void 0,void 0,function*(){if(typeof e>"u")throw new f('Missing required parameter: "userId"');if(typeof t>"u")throw new f('Missing required parameter: "secret"');let n="/account/sessions/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const o=new URL(this.client.config.endpoint+n);return yield this.client.call("put",o,{"content-type":"application/json"},i)})}getSession(e){return v(this,void 0,void 0,function*(){if(typeof e>"u")throw new f('Missing required parameter: "sessionId"');let t="/account/sessions/{sessionId}".replace("{sessionId}",e),n={};const i=new URL(this.client.config.endpoint+t);return yield this.client.call("get",i,{"content-type":"application/json"},n)})}updateSession(e){return v(this,void 0,void 0,function*(){if(typeof e>"u")throw new f('Missing required parameter: "sessionId"');let t="/account/sessions/{sessionId}".replace("{sessionId}",e),n={};const i=new URL(this.client.config.endpoint+t);return yield this.client.call("patch",i,{"content-type":"application/json"},n)})}deleteSession(e){return v(this,void 0,void 0,function*(){if(typeof e>"u")throw new f('Missing required parameter: "sessionId"');let t="/account/sessions/{sessionId}".replace("{sessionId}",e),n={};const i=new URL(this.client.config.endpoint+t);return yield this.client.call("delete",i,{"content-type":"application/json"},n)})}updateStatus(){return v(this,void 0,void 0,function*(){let e="/account/status",t={};const n=new URL(this.client.config.endpoint+e);return yield this.client.call("patch",n,{"content-type":"application/json"},t)})}createVerification(e){return v(this,void 0,void 0,function*(){if(typeof e>"u")throw new f('Missing required parameter: "url"');let t="/account/verification",n={};typeof e<"u"&&(n.url=e);const i=new URL(this.client.config.endpoint+t);return yield this.client.call("post",i,{"content-type":"application/json"},n)})}updateVerification(e,t){return v(this,void 0,void 0,function*(){if(typeof e>"u")throw new f('Missing required parameter: "userId"');if(typeof t>"u")throw new f('Missing required parameter: "secret"');let n="/account/verification",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const o=new URL(this.client.config.endpoint+n);return yield this.client.call("put",o,{"content-type":"application/json"},i)})}createPhoneVerification(){return v(this,void 0,void 0,function*(){let e="/account/verification/phone",t={};const n=new URL(this.client.config.endpoint+e);return yield this.client.call("post",n,{"content-type":"application/json"},t)})}updatePhoneVerification(e,t){return v(this,void 0,void 0,function*(){if(typeof e>"u")throw new f('Missing required parameter: "userId"');if(typeof t>"u")throw new f('Missing required parameter: "secret"');let n="/account/verification/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const o=new URL(this.client.config.endpoint+n);return yield this.client.call("put",o,{"content-type":"application/json"},i)})}}class qe extends se{constructor(e,t){super(e),this.databaseId=t}setDatabaseId(e){this.databaseId=e}getDatabaseId(){return this.databaseId}listDocuments(e,t,n,i,o,a,c,d){return v(this,void 0,void 0,function*(){if(typeof e>"u")throw new f('Missing required parameter: "collectionId"');let h="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",this.databaseId).replace("{collectionId}",e),p={};typeof t<"u"&&(p.queries=t),typeof n<"u"&&(p.limit=n),typeof i<"u"&&(p.offset=i),typeof o<"u"&&(p.cursor=o),typeof a<"u"&&(p.cursorDirection=a),typeof c<"u"&&(p.orderAttributes=c),typeof d<"u"&&(p.orderTypes=d);const _=new URL(this.client.config.endpoint+h);return yield this.client.call("get",_,{"content-type":"application/json"},p)})}createDocument(e,t,n,i,o){return v(this,void 0,void 0,function*(){if(typeof e>"u")throw new f('Missing required parameter: "collectionId"');if(typeof t>"u")throw new f('Missing required parameter: "documentId"');if(typeof n>"u")throw new f('Missing required parameter: "data"');let a="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",this.databaseId).replace("{collectionId}",e),c={};typeof t<"u"&&(c.documentId=t),typeof n<"u"&&(c.data=n),typeof i<"u"&&(c.read=i),typeof o<"u"&&(c.write=o);const d=new URL(this.client.config.endpoint+a);return yield this.client.call("post",d,{"content-type":"application/json"},c)})}getDocument(e,t){return v(this,void 0,void 0,function*(){if(typeof e>"u")throw new f('Missing required parameter: "collectionId"');if(typeof t>"u")throw new f('Missing required parameter: "documentId"');let n="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",this.databaseId).replace("{collectionId}",e).replace("{documentId}",t),i={};const o=new URL(this.client.config.endpoint+n);return yield this.client.call("get",o,{"content-type":"application/json"},i)})}updateDocument(e,t,n,i,o){return v(this,void 0,void 0,function*(){if(typeof e>"u")throw new f('Missing required parameter: "collectionId"');if(typeof t>"u")throw new f('Missing required parameter: "documentId"');let a="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",this.databaseId).replace("{collectionId}",e).replace("{documentId}",t),c={};typeof n<"u"&&(c.data=n),typeof i<"u"&&(c.read=i),typeof o<"u"&&(c.write=o);const d=new URL(this.client.config.endpoint+a);return yield this.client.call("patch",d,{"content-type":"application/json"},c)})}deleteDocument(e,t){return v(this,void 0,void 0,function*(){if(typeof e>"u")throw new f('Missing required parameter: "collectionId"');if(typeof t>"u")throw new f('Missing required parameter: "documentId"');let n="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",this.databaseId).replace("{collectionId}",e).replace("{documentId}",t),i={};const o=new URL(this.client.config.endpoint+n);return yield this.client.call("delete",o,{"content-type":"application/json"},i)})}}class Fe{constructor(e){l(this,"account");this.account=new Ve(e)}async createNewAccount(e,t,n){return this.account.create("unique()",e,t,n)}async createNewAccountSession(e,t){return this.account.createEmailSession(e,t)}async getAccountSession(e){return this.account.getSession(e)}async getAccountData(){return this.account.get()}async deleteAccountSession(e){return this.account.deleteSession(e)}}class He{constructor(e,t){l(this,"database");this.database=new qe(e,t)}async createNewDocument(e,t){return this.database.createDocument(e,"unique()",t)}async listDocuments(e,t,n){return this.database.listDocuments(e,t,100,0,n)}async getDocument(e,t){return this.database.getDocument(e,t)}async updateDocument(e,t,n){return this.database.updateDocument(e,t,n)}async deleteDocument(e,t){return this.database.deleteDocument(e,t)}}class b{static async init(){this.client=new Ue,console.log("Client initializing"),console.log("server endopoint",N.ENDPOINT),console.log("Host",document.location.host),console.log("Localhost",document.location.hostname),this.client.setEndpoint(N.ENDPOINT),this.client.setProject(N.PROJECT_ID),this.accountManager=new Fe(this.client),this.databaseManager=new He(this.client,N.DATABASE_ID)}static connectSession(e){this.sessionId=e.$id,this.userId=e.userId,localStorage.setItem("sessionId",this.sessionId),localStorage.setItem("userId",this.userId)}static async disconnectCurrentSession(){await this.removeSession(this.sessionId),this.userId="",this.sessionId="",localStorage.removeItem("sessionId"),localStorage.removeItem("userId")}static async getSession(e){return this.accountManager.getAccountSession(e)}static async createNewSession(e,t){return await this.accountManager.createNewAccountSession(e,t)}static async removeSession(e){return this.accountManager.deleteAccountSession(e)}static async getAccountData(){return this.accountManager.getAccountData()}static async updateAccountName(e){return this.accountManager.account.updateName(e)}static async createAccount(e,t,n){return this.accountManager.createNewAccount(e,t,n)}static async getUserSettingsDocument(){return(await this.databaseManager.listDocuments(N.COLLECTION_SETTINGS,[C.equal("userID",this.userId)])).documents[0]}static async createNewSettingsDocument(e){return this.databaseManager.createNewDocument(N.COLLECTION_SETTINGS,{userID:this.userId,template:e})}static async updateUserSettingsDocument(e){const t=await this.getUserSettingsDocument();this.databaseManager.updateDocument(N.COLLECTION_SETTINGS,t.$id,{template:e})}static async getNoteDocument(e){return(await this.databaseManager.listDocuments(N.COLLECTION_NOTES,[C.equal("userID",this.userId),C.equal("day",e)])).documents[0]}static async getNoteDocumentList(){const e=[],t=await this.databaseManager.listDocuments(N.COLLECTION_NOTES,[C.equal("userID",this.userId)]),n=t.total;if(n!==0){let i=t.documents[t.documents.length-1].$id;for(t.documents.forEach(o=>e.push(o));e.length<n;){const o=await this.databaseManager.listDocuments(N.COLLECTION_NOTES,[C.equal("userID",this.userId)],i);i=o.documents[o.documents.length-1].$id,o.documents.forEach(a=>e.push(a))}}return e}static async getBlockContentDocumentList(e){return await this.databaseManager.listDocuments(N.COLLECTION_BLOCK_CONTENTS,[C.equal("noteID",e)])}static async getBlockContentDocument(e){return(await this.databaseManager.getDocument(N.COLLECTION_BLOCK_CONTENTS,e)).documents[0]}static async createNewNoteDocument(e){return this.databaseManager.createNewDocument(N.COLLECTION_NOTES,{userID:this.userId,day:e})}static async createNewBlockContentDocument(e,t){return this.databaseManager.createNewDocument(N.COLLECTION_BLOCK_CONTENTS,{noteID:e,title:t.title,inputType:t.inputType,inputValue:t.inputValue})}static async updateBlockContentDocument(e,t){return this.databaseManager.updateDocument(N.COLLECTION_BLOCK_CONTENTS,e,t)}static async deleteNoteDocument(e){this.databaseManager.deleteDocument(N.COLLECTION_NOTES,e)}static async deleteBlockContents(e){(await this.getBlockContentDocumentList(e)).documents.forEach(n=>{this.databaseManager.deleteDocument(N.COLLECTION_BLOCK_CONTENTS,n.$id)})}}l(b,"client"),l(b,"accountManager"),l(b,"databaseManager"),l(b,"userId"),l(b,"sessionId");class Ke extends ae{constructor(t){super();l(this,"topics");this.topics=t}}const Ge=[{name:"Environment",titles:["Things I did to help the environment today:","Today, I am planning to cook:","Car driving log:"]},{name:"Reflection",titles:["What did you learn today?","Last night, after work, I...","Today, I had the following ideas:"]},{name:"Planning",titles:["TODOs for today:","Goals for today:","If today was the ideal day, what would it look like?"]},{name:"Creativity",titles:["What did you discover today?","What did you create today?","Write a little poem:"]},{name:"Feelings",titles:["Today, I was dreaming about...","Today, I was feeling...","Mood log:"]}],Xe=(...r)=>{};class X{static async init(){await b.init()}static async getExampleModel(){return new je("John",0)}static async signInViaMail(e,t){return await b.createNewSession(e,t).then(n=>{b.connectSession(n)}).catch().then(()=>!1),!0}static async signUp(e,t,n){await b.createAccount(e,t,n),await this.signInViaMail(e,t)&&await b.createNewSettingsDocument([])}static async connectToSession(e){const t=await b.getSession(e);return this.convertNumberToDate(t.expire)>new Date?(await b.connectSession(t),!0):!1}static async checkIfUserLoggedIn(){const e=localStorage.getItem("sessionId");let t=!1;return e&&(t=await this.connectToSession(e)),t}static async signOut(){await b.disconnectCurrentSession()}static async getCalendarModel(){const e={};return(await b.getNoteDocumentList()).forEach(n=>{const i=new Date(n.day),o=i.getFullYear()+"",a=i.getMonth()+1+"",c=i.getDate()+"";o in e||(e[o]={}),a in e[o]||(e[o][a]=[]),e[o][a].push(c)}),new Ie(new Date,e)}static async getEditorModel(e){try{const t=await b.getNoteDocument(this.convertDateToString(e)),n=await b.getBlockContentDocumentList(t.$id),i=this.convertArrayToBlockContent(n.documents);return new ye(e,i)}catch{const n=await this.createEditorModelFromTemplate();return await this.createEditorModel(n),n}}static async createEditorModel(e){const t=await b.createNewNoteDocument(this.convertDateToString(e.day));e.blockContents.forEach(async n=>{b.createNewBlockContentDocument(t.$id,n)})}static async updateEditorModel(e){Xe(this.convertDateToString(e.day)),e.blockContents.forEach(t=>{b.updateBlockContentDocument(t.documentId,{title:t.title,inputType:t.inputType,inputValue:t.inputValue})})}static async createEditorModelFromTemplate(){const e=await X.getUserSettingsModel(),t=this.convertArrayToBlockContent(e.settings.template);return new ye(new Date,t)}static async deleteEditorModel(e){const t=await b.getNoteDocument(this.convertDateToString(e.day));return await b.deleteNoteDocument(t.$id),await b.deleteBlockContents(t.$id)}static async getUserSettingsModel(){const e=await b.getAccountData(),t=await b.getUserSettingsDocument(),n=t.template,i=this.jsonParseArray(n);return new Ce(e.name,{template:i})}static async updateUserSettingsModel(e){return await b.updateAccountName(e.username),await b.updateUserSettingsDocument(this.stringifyArray(e.settings.template))}static async createUserSettingsModel(e){return await b.createNewSettingsDocument(e.settings.template)}static async getTemplateConfigurationModel(){return new Ke(Ge.map(t=>t))}static convertArrayToBlockContent(e){const t=[];return e.forEach(n=>{t.push({title:n.title,inputType:n.inputType,inputValue:n.inputValue,documentId:n.$id})}),t}static convertNumberToDate(e){return new Date(e*1e3)}static jsonParseArray(e){const t=[];return e.forEach(n=>t.push(JSON.parse(n))),t}static stringifyArray(e){const t=[];return e.forEach(n=>t.push(JSON.stringify(n))),t}static convertDateToString(e){return[e.getFullYear(),e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,e.getDate()<10?"0"+e.getDate():e.getDate()].join("-")}static async deleteUserNotes(){(await b.getNoteDocumentList()).forEach(async t=>{await b.deleteBlockContents(t.$id),await b.deleteNoteDocument(t.$id)})}static async deleteUserSettings(){return await b.updateUserSettingsDocument(this.stringifyArray([]))}static async generateMockDatabaseData(){[0,1,2,3,4,5,6,7,8,9,10,11].forEach(e=>{me(16,1).forEach(async t=>{const n=new Date;e<n.getMonth()?n.setFullYear(2022):n.setFullYear(2021),n.setDate(Number(t)),n.setMonth(e);const i=await this.generateMockEditorModel(n);try{await this.createEditorModel(i)}catch{this.updateEditorModel(i)}})})}static generateMockCalendarModel(){const e={2022:{}};return me(11,1).forEach(t=>{e[2022][t]=me(30,1),e[2022][t].length===0&&delete e[2022][t]}),new Ie(new Date,e)}static async generateMockEditorModel(e){const t=e,n=[];return(await this.getUserSettingsModel()).settings.template.forEach(o=>{n.push({title:o.title,inputType:o.inputType,inputValue:"",documentId:""})}),new ye(t,n)}static generateMockUserSettingsModel(){const e=[{title:"Title 1",inputType:Z.FreeText},{title:"Title 2",inputType:Z.FreeText},{title:"Title 3",inputType:Z.FreeText}];return new Ce("user1",{template:e})}}const fe=class extends HTMLElement{constructor(t,n){super();l(this,"html");l(this,"css");l(this,"webComponentId");this.setId(),this.html=t!=null?t:"",this.css=n!=null?n:""}onDestroy(){}notifyAll(t,n){const i=new CustomEvent(t,{detail:n});this.dispatchEvent(i)}select(t){return this.querySelector(t)}selectAll(t){return this.querySelectorAll(t)}async connectedCallback(){this.loadStylesheet(),this.loadHtml();const t=this.onCreate();t instanceof Promise&&await t}async disconnectedCallback(){this.onDestroy()}loadStylesheet(){if(this.css!==""){const t=document.createElement("style");t.innerHTML=this.css,this.appendChild(t)}}loadHtml(){if(this.html!==""){const t=document.createElement("template");t.innerHTML=this.html,this.appendChild(t.content.cloneNode(!0)),this.classList.add("web-component")}}setId(){fe.totalWebComponents++,this.webComponentId=fe.totalWebComponents,Object.freeze(this.webComponentId)}getWebComponentId(){return this.webComponentId}};let F=fe;l(F,"totalWebComponents",0);const Je=`
<div class="login-form">
    <svg>
        <image xlink:href="https://www.svgrepo.com/show/424049/ceklist-rate-rating.svg"  />
    </svg>

    <input type="text" placeholder="Username" name="username">
    <input type="text" placeholder="Email" name="email">
    <input type="password" placeholder="Password" name="password">
    <input type="password" placeholder="Verify Password" name="password" class="retype-password">
    <button>Login</button>
    <span class="register-toggle">Sign in | Sign up</span>
    <span class="connect-message"></span>
</div>

`,We=`login-register{display:flex;flex-grow:1}.login-form{display:flex;flex-direction:column;margin:auto}.login-form button{margin:var(--spacing-medium)}.login-form svg{width:90px;height:100px;margin:auto}.login-form image{width:90px;height:100px}.login-form input{margin-top:var(--spacing-medium)}.login-form>span{text-align:center;margin-top:var(--spacing-large)}.login-form .connect-message{color:red;margin-top:var(--spacing-large);visibility:hidden}.login-form .register-toggle{color:var(--text-accent);cursor:pointer}.login-form .retype-password,.login-form input[name=username]{visibility:hidden}
`;class Se extends F{constructor(){super(Je,We);l(this,"$loginButton");l(this,"$emailInput");l(this,"$usernameInput");l(this,"$passwordInput");l(this,"$verifyPasswordInput");l(this,"$registerToggle");l(this,"$connectMessage");l(this,"registerState",new G(!1));l(this,"changeRegisterMode",()=>{this.registerState.value?(this.$loginButton.innerText="Login",this.$verifyPasswordInput.style.visibility="hidden",this.$usernameInput.style.visibility="hidden",this.registerState.value=!1):(this.$loginButton.innerText="Register",this.$verifyPasswordInput.style.visibility="visible",this.$usernameInput.style.visibility="visible",this.checkPassword(),this.registerState.value=!0)});l(this,"readInput",async()=>{this.registerState.value?(await X.signUp(this.$emailInput.value,this.$passwordInput.value,this.$usernameInput.value),window.location.reload()):await X.signInViaMail(this.$emailInput.value,this.$passwordInput.value)&&window.location.reload()})}get htmlTagName(){return"login-register"}onCreate(){this.$initHtml(),this.initListeners()}$initHtml(){this.$loginButton=this.select("button"),this.$emailInput=this.select('input[name="email"]'),this.$passwordInput=this.select('input[name="password"]'),this.$verifyPasswordInput=this.select(".retype-password"),this.$registerToggle=this.select("span"),this.$connectMessage=this.select(".connect-message"),this.$usernameInput=this.select('input[name="username"]')}initListeners(){this.$registerToggle.addEventListener("click",this.changeRegisterMode),this.$loginButton.addEventListener("click",this.readInput)}checkPassword(){this.$passwordInput.value!==this.$verifyPasswordInput.value&&this.showConnectMessage("The passwords do not match")}showConnectMessage(t){this.$connectMessage.innerText=t,this.$connectMessage.style.visibility="visible"}}const ze=Object.freeze(Object.defineProperty({__proto__:null,default:Se},Symbol.toStringTag,{value:"Module"})),Qe=`<span id="template-configurator-title" class="title-l">
  \u{1F4DD} Template Configuration
</span>
<div class="container" id="topic-configurator-container">
  <!-- TopicConfigurator will be appended here -->
</div>
<div class="container" id="input-type-configurator-container" hidden>
  <!-- InputTypeConfigurator will be appended here -->
</div>`,Ye=`template-configurator{display:flex;flex-direction:column;justify-content:space-between;align-items:center;overflow:hidden}template-configurator>.container{width:100%}.button-navbar{display:flex;flex-direction:row;width:100%;padding:0 var(--spacing-medium) var(--spacing-medium);margin-bottom:auto}.button-navbar>.next-button{margin-left:auto;align-self:flex-end}topic-configurator-item,input-type-configurator-item{margin-bottom:var(--spacing-large);flex-grow:0!important;margin-right:auto;overflow:hidden}.configuration-title{margin-bottom:var(--spacing-large)}topic-configurator{display:flex;flex-direction:column;align-items:center;overflow:hidden}topic-configurator>.content,input-type-configurator>.content{align-items:center;align-content:center;width:100%;overflow-y:scroll}topic-configurator>.container,input-type-configurator>.container{align-items:center}#topic-configurator-container{overflow:hidden}
`,Ze=`<div class="content container">
  <span class="title-m configuration-title" id="topic-configurator-info-title">
  Please choose up to <span class="max-topics-count">3</span> questions for your tempalte:
</span>
  <div id="topic-configurator-items-container" class="container">
    <!-- TopicConfigurations will be appended here -->
  </div>
</div>
<div class="button-navbar" id="topic-configurator-nav-buttons">
  <button class="next-button" id="topic-configurator-next-button"></button>
</div>`,et="",tt=`<form class="topic-title-selection-form">
    <span class="topic-name title-s"></span>
    <div class="topic-title-selection-container container">
        <!-- Topic title radio inputs will be appended here -->
    </div>
</form>`;class Le extends F{constructor(t,n){super(tt);l(this,"topic");l(this,"selectedTopicsState");l(this,"$topicTitleSelectionContainer");l(this,"$topicName");l(this,"$updateCheckboxes",()=>{this.$topicTitleSelectionContainer.querySelectorAll("input[type=checkbox]").forEach(n=>{n.checked=this.selectedTopicsState.value.includes(n.value)})});l(this,"$onClickCheckbox",(t,n)=>{n?this.selectedTopicsState.value.push(t):this.selectedTopicsState.value=this.selectedTopicsState.value.filter(i=>i!==t)});this.topic=t,this.selectedTopicsState=n}get htmlTagName(){return"topic-configurator-item"}onCreate(){this.$initHtml(),this.initListener()}$initHtml(){this.$topicTitleSelectionContainer=this.select(".topic-title-selection-container"),this.$topicName=this.select(".topic-name"),this.$topicName.innerHTML=this.topic.name,this.$appendTopicItems()}initListener(){this.selectedTopicsState.addEventListener("change",this.$updateCheckboxes)}$appendTopicItems(){this.topic.titles.forEach(t=>{const n=document.createElement("input"),i=document.createElement("label"),o=document.createElement("div");n.type="checkbox",n.name="topic-title",n.value=t,o.appendChild(n),i.innerHTML=t,o.appendChild(i),this.$topicTitleSelectionContainer.appendChild(o),n.addEventListener("change",()=>this.$onClickCheckbox(n.value,n.checked))}),this.$updateCheckboxes()}}const nt=Object.freeze(Object.defineProperty({__proto__:null,default:Le},Symbol.toStringTag,{value:"Module"})),Y=class extends F{constructor(t,n){super(Ze,et);l(this,"templateConfigurationModelState");l(this,"selectedTitlesState");l(this,"$topicConfigurationItemsContainer");l(this,"$nextButton");l(this,"onSelectedTitlesChanged",()=>{this.selectedTitlesState.value.length>Y.MAX_TOPICS?(this.$nextButton.disabled=!0,this.$nextButton.textContent=`Select at max ${Y.MAX_TOPICS} topics`):this.selectedTitlesState.value.length<Y.MIN_TOPICS?(this.$nextButton.disabled=!0,this.$nextButton.textContent=`Select at least ${Y.MIN_TOPICS} topics`):(this.$nextButton.disabled=!1,this.$nextButton.textContent="Next")});l(this,"$onNextButtonClicked",()=>{this.notifyAll(Y.NEXT_BUTTON_CLICKED_EVENT,{})});this.templateConfigurationModelState=t,this.selectedTitlesState=n}get htmlTagName(){return"topic-configurator"}onCreate(){this.$initHtml(),this.initListener()}$initHtml(){this.$topicConfigurationItemsContainer=this.select("#topic-configurator-items-container"),this.$nextButton=this.select("#topic-configurator-next-button"),this.$appendTopicConfiguratorItems(),this.onSelectedTitlesChanged()}initListener(){this.$nextButton.addEventListener("click",this.$onNextButtonClicked),this.selectedTitlesState.addEventListener("change",this.onSelectedTitlesChanged)}$appendTopicConfiguratorItems(){this.templateConfigurationModelState.value.topics.forEach(t=>{const n=new Le(t,this.selectedTitlesState);this.$topicConfigurationItemsContainer.appendChild(n)})}};let J=Y;l(J,"NEXT_BUTTON_CLICKED_EVENT","onFinishTopicConfiguration"),l(J,"MAX_TOPICS",3),l(J,"MIN_TOPICS",3);const it=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"})),ot=`<div class="content container">
  <span class="title-m configuration-title" id="input-type-configurator-info-title" >
    Please choose the input types for your template:
  </span>
  <div id="input-type-configurator-items-container" class="container">
    <!-- InputTypeConfigurations will be appended here -->
  </div>
</div>
<div class="button-navbar" id="input-type-configurator-nav-buttons">
  <button class="back-button" id="input-type-configurator-back-button">Back</button>
  <button class="next-button" id="input-type-configurator-next-button">Finish</button>
</div>`,st=`<span class="topic-title title-s"></span>
<select name="Input Type" class="input-type-configuration-selection">
    <!-- Options will be appended here -->
</select>`,at=`input-type-configurator-item{flex-direction:row!important;align-items:center;flex-grow:0!important;margin-bottom:var(--spacing-medium)}.input-type-configuration-selection{margin-left:var(--spacing-medium);margin-right:auto}
`;class Oe extends F{constructor(t,n){super(st,at);l(this,"topicTitle");l(this,"selectedInputTypeState");l(this,"$topicTitle");l(this,"$inputTypeSelection");l(this,"$onSelectionChanged",()=>{this.selectedInputTypeState.value=this.$inputTypeSelection.value});this.topicTitle=t,this.selectedInputTypeState=n}get htmlTagName(){return"input-type-configurator-item"}onCreate(){this.$initHtml(),this.initListener()}$initHtml(){this.$topicTitle=this.select(".topic-title"),this.$topicTitle.innerHTML=this.topicTitle,this.$inputTypeSelection=this.select(".input-type-configuration-selection"),this.$appendOptions()}initListener(){this.$inputTypeSelection.addEventListener("change",this.$onSelectionChanged)}$appendOptions(){Object.keys(Z).forEach(t=>{const n=document.createElement("option");n.value=Z[t],n.innerHTML=t,this.$inputTypeSelection.appendChild(n)})}}const rt=Object.freeze(Object.defineProperty({__proto__:null,default:Oe},Symbol.toStringTag,{value:"Module"})),he=class extends F{constructor(t,n){super(ot);l(this,"selectedTitlesState");l(this,"selectedInputTypesState");l(this,"$inputTypeConfigurationElementsContainer");l(this,"$backButton");l(this,"$nextButton");this.selectedTitlesState=t,this.selectedInputTypesState=n}get htmlTagName(){return"input-type-configurator"}onCreate(){this.$initHtml(),this.initListeners()}$initHtml(){this.$inputTypeConfigurationElementsContainer=this.select("#input-type-configurator-items-container"),this.$backButton=this.select("#input-type-configurator-back-button"),this.$nextButton=this.select("#input-type-configurator-next-button"),this.$appendInputTypeConfigurations()}initListeners(){this.$backButton.addEventListener("click",()=>{this.notifyAll(he.BACK_BUTTON_CLICKED_EVENT)}),this.$nextButton.addEventListener("click",()=>{this.notifyAll(he.NEXT_BUTTON_CLICKED_EVENT)})}$appendInputTypeConfigurations(){this.selectedTitlesState.value.forEach((t,n)=>{const i=new G(Z.FreeText),o=new Oe(t,i);this.selectedInputTypesState.value.push(i.value),i.addEventListener("change",()=>{this.selectedInputTypesState.value[n]=i.value}),this.$inputTypeConfigurationElementsContainer.appendChild(o)})}refresh(){this.$inputTypeConfigurationElementsContainer.innerHTML="",this.$appendInputTypeConfigurations()}};let W=he;l(W,"NEXT_BUTTON_CLICKED_EVENT","finishInputTypeConfiguration"),l(W,"BACK_BUTTON_CLICKED_EVENT","cancelInputTypeConfiguration");const ct=Object.freeze(Object.defineProperty({__proto__:null,default:W},Symbol.toStringTag,{value:"Module"})),De={userSettingsModel:"userSettingsModel",editorModel:"editorModel",calendarModel:"calendarModel"},be=class extends F{constructor(){super(Qe,Ye);l(this,"templateConfigurationModelState");l(this,"selectedTitlesState",new G([]));l(this,"selectedInputTypesState",new G([]));l(this,"configurationProgressState",new G(0));l(this,"$topicConfiguratorContainer");l(this,"$topicConfigurator");l(this,"$inputTypeConfiguratorContainer");l(this,"$inputTypeConfigurator");l(this,"$initTopicConfigurator",()=>{this.$topicConfiguratorContainer=this.select("#topic-configurator-container"),this.$topicConfigurator=new J(this.templateConfigurationModelState,this.selectedTitlesState),this.$topicConfiguratorContainer.appendChild(this.$topicConfigurator)});l(this,"$initInputTypeConfigurator",()=>{this.$inputTypeConfiguratorContainer=this.select("#input-type-configurator-container"),this.$inputTypeConfigurator=new W(this.selectedTitlesState,this.selectedInputTypesState),this.$inputTypeConfiguratorContainer.appendChild(this.$inputTypeConfigurator)});l(this,"$onConfigurationProgressChanged",()=>{this.configurationProgressState.value===0?(this.$topicConfiguratorContainer.hidden=!1,this.$inputTypeConfiguratorContainer.hidden=!0):(this.$topicConfiguratorContainer.hidden=!0,this.$inputTypeConfigurator.refresh(),this.$inputTypeConfiguratorContainer.hidden=!1)});l(this,"$onFinishTopicConfiguration",()=>{this.configurationProgressState.value=1});l(this,"$onBackToTopicConfiguration",()=>{this.configurationProgressState.value=0,this.selectedInputTypesState.value=[]});l(this,"$onFinishInputTypeConfiguration",async()=>{const t=this.selectedTitlesState.value.map((i,o)=>({title:i,inputType:this.selectedInputTypesState.value[o]})),n=de.getStateById(De.userSettingsModel);if(n){const i=n.value;i.settings.template=t,X.updateUserSettingsModel(i).then(()=>{this.notifyAll(be.FINISH_TEMPLATE_CONFIGURATION_EVENT,t)})}})}get htmlTagName(){return"template-configurator"}onCreate(){return new Promise(async t=>{const n=await X.getTemplateConfigurationModel();this.templateConfigurationModelState=n.toState(),this.$initHtml(),this.$initHtmlListener(),this.initStateListener(),t()})}$initHtml(){this.$initTopicConfigurator(),this.$initInputTypeConfigurator()}$initHtmlListener(){this.$topicConfigurator.addEventListener(J.NEXT_BUTTON_CLICKED_EVENT,this.$onFinishTopicConfiguration),this.$inputTypeConfigurator.addEventListener(W.BACK_BUTTON_CLICKED_EVENT,this.$onBackToTopicConfiguration),this.$inputTypeConfigurator.addEventListener(W.NEXT_BUTTON_CLICKED_EVENT,this.$onFinishInputTypeConfiguration)}initStateListener(){this.configurationProgressState.addEventListener("change",this.$onConfigurationProgressChanged)}};let ee=be;l(ee,"FINISH_TEMPLATE_CONFIGURATION_EVENT","onFinishTemplateConfiguration");const lt=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"})),ut=`<div id="home-container" class="container">
  <home-bar></home-bar>
  <div id="home-container-content" class="container">
    <!-- Calendar & Editor will be appended here -->
    <main-calendar></main-calendar>
    <note-editor></note-editor>
  </div>
</div>`,dt=`home-component{flex-grow:1;overflow:hidden}#home-container{overflow:hidden}#home-container-content{display:flex;flex-direction:row;height:100%;overflow:hidden}
`;class Me extends F{constructor(){super(ut,dt)}get htmlTagName(){return"home-component"}onCreate(){}}const pt=Object.freeze(Object.defineProperty({__proto__:null,default:Me},Symbol.toStringTag,{value:"Module"})),ft=()=>{const r=document.querySelector("#app");le.loadAll().then(()=>X.init()).then(()=>de.init()).then(()=>e());async function e(){await t()}async function t(){await X.checkIfUserLoggedIn()?await n():await d()}async function n(){const p=await X.getUserSettingsModel();de.addState(p.toState(),De.userSettingsModel),p.settings.template.length===0?a():i()}async function i(){o()}async function o(){r.innerHTML="",r.append(new Me)}async function a(){c()}function c(){r.innerHTML="";const p=new ee;p.addEventListener(ee.FINISH_TEMPLATE_CONFIGURATION_EVENT,()=>{o()}),r.append(p)}async function d(){h()}function h(){r.innerHTML="";const p=new Se;r.append(p)}};ft();export{Z as B,X as D,de as G,Me as H,ke as O,G as S,F as W,De as a,Xe as l,gt as p};
