var o=Object.defineProperty;var s=(n,e,t)=>e in n?o(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var i=(n,e,t)=>(s(n,typeof e!="symbol"?e+"":e,t),t);import{W as p,S as u,l as r,B as l}from"./index.ea27e9d7.js";import d from"./FreeTextInputField.05e212af.js";import h from"./BulletPointInputField.57882eef.js";import c from"./CheckListInputField.d0e6ebea.js";import"./EventBus.e2d55265.js";import"./CloseAllEditorInputs.40019b73.js";import"./LiveBulletPointItem.99be14a3.js";import"./LiveTextInput.f11ff188.js";import"./LiveCheckListItem.a7abf5a0.js";const m=`<div class="editor-block">
  <span class="title title-s underlined"></span>
  <div class="input-field-container"></div>
</div>
`,C=`editor-block{margin-bottom:1em}
`;class B extends p{constructor(t){var a;super(m,C);i(this,"blockContentState");i(this,"inputValueState");i(this,"$title");i(this,"$inputFieldContainer");i(this,"$inputField");i(this,"appendInputField",t=>{if(t===l.FreeText)this.$inputField=new d(this.inputValueState);else if(t===l.BulletPoint)this.$inputField=new h(this.inputValueState);else if(t===l.Checkbox)this.$inputField=new c(this.inputValueState);else throw new Error(`Unknown input type: ${t}`);this.$inputFieldContainer.appendChild(this.$inputField)});i(this,"onBlockContentStateChanged",t=>{t.property==="value.title"?this.$title.innerHTML=this.blockContentState.value.title:t.property});this.blockContentState=t,this.inputValueState=new u((a=this.blockContentState.value.inputValue)!=null?a:"")}get htmlTagName(){return"editor-block"}onCreate(){this.$initHtml(),this.intiListeners()}$initHtml(){this.$title=this.select(".title"),this.$inputFieldContainer=this.select(".input-field-container"),this.$title.innerHTML=this.blockContentState.value.title,this.appendInputField(this.blockContentState.value.inputType)}intiListeners(){this.blockContentState.addEventListener("change",t=>this.onBlockContentStateChanged(t.data)),this.inputValueState.addEventListener("change",t=>{r("inputValueState changed",t.data),this.blockContentState.value.inputValue=this.inputValueState.value})}}export{B as default};
