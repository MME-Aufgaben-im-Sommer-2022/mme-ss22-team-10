var r=Object.defineProperty;var l=(i,e,t)=>e in i?r(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var s=(i,e,t)=>(l(i,typeof e!="symbol"?e+"":e,t),t);import{W as o,l as h}from"./index.8d3f5313.js";import{E as a}from"./EventBus.9b451a44.js";import{C as n}from"./CloseAllEditorInputs.40019b73.js";const p='<textarea class="text-input editor-atomic-item" placeholder="type here..." maxlength="1000"></textarea>',u=`free-text-input-field>.text-input{min-height:3em;resize:vertical;width:25em}
`;class x extends o{constructor(t){super(p,u);s(this,"inputValueState");s(this,"$textArea");this.inputValueState=t}get htmlTagName(){return"free-text-input-field"}onCreate(){this.$initHtml(),this.initListeners()}$initHtml(){this.$textArea=this.select(".text-input"),this.$textArea.value=this.inputValueState.value}initListeners(){this.$textArea.addEventListener("keydown",t=>{t.key==="Enter"&&(t.preventDefault(),this.toggleActive(!1))}),this.$textArea.addEventListener("click",t=>{t.stopPropagation(),this.toggleActive(!0)}),a.addEventListener(n,t=>{t.data.triggerWebComponentId!==this.getWebComponentId()&&(h(t,this.getWebComponentId()),this.toggleActive(!1))})}toggleActive(t){t?(this.$textArea.classList.add("active"),a.notifyAll(n,{triggerWebComponentId:this.getWebComponentId()})):(this.$textArea.classList.remove("active"),this.$textArea.blur(),this.inputValueState.value=this.$textArea.value)}}export{x as default};
